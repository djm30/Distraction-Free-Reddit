{"version":3,"file":"static/js/background.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","common/settings-config.ts","common/message-types.ts","../node_modules/@babel/runtime/helpers/esm/createClass.js","common/logger.ts","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","firefox/storage.ts","common/storage-service.ts","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","common/block-section-config.ts","common/get-blocks.ts","common/url-parser.ts","background.ts"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import logger from \"./logger\";\n\nexport enum BlockMode {\n  BLOCK,\n  WHITELIST,\n  BLACKLIST,\n}\n\nexport interface BlockerSettings {\n  enabled: boolean;\n  mode: BlockMode;\n  whitelist: Array<string>;\n  blacklist: Array<string>;\n  blocks: Blocks;\n}\n\nexport interface Blocks {\n  mainFeed: boolean;\n  search: boolean;\n  sidebar: boolean;\n  userFeed: boolean;\n  all: boolean;\n  comments: boolean;\n}\n\nexport enum BlockTypes {\n  MAIN_FEED,\n  USER_FEED,\n  ALL,\n  COMMENTS,\n  SIDEBAR,\n  SEARCH,\n}\n\nexport interface StorageFunctions {\n  getSettings: () => Promise<BlockerSettings>;\n  setSettings: (settings: BlockerSettings) => Promise<void>;\n  resetSettings: () => Promise<void>;\n  initializeSettings: () => Promise<void>;\n  sendSettingsResetMessage: () => Promise<void> | void;\n}\n\nexport const defaultSettings: BlockerSettings = {\n  enabled: true,\n  mode: BlockMode.BLOCK,\n  whitelist: [],\n  blacklist: [],\n  blocks: {\n    mainFeed: true,\n    search: true,\n    sidebar: true,\n    userFeed: true,\n    all: true,\n    comments: true,\n  },\n};\n\nexport const parseMode = (int: Number): BlockMode => {\n  switch (int) {\n    case 0:\n      return BlockMode.BLOCK;\n    case 1:\n      return BlockMode.WHITELIST;\n    case 2:\n      return BlockMode.BLACKLIST;\n    default:\n      return BlockMode.BLOCK;\n  }\n};\n","import { RedditSecBlockConfig } from \"./block-section-config\";\nimport { BlockerSettings } from \"./settings-config\";\n\nexport const enum MessageType {\n  HIDE_BLOCKER = \"HIDE_BLOCKER\",\n  HIDE_ELEMENTS = \"HIDE_ELEMENTS\",\n  SETTINGS_UPDATE = \"SETTINGS_UPDATE\",\n  WAKE_UP = \"WAKE_UP\",\n}\n\nexport interface Message {\n  type: MessageType;\n}\n\nexport interface HideElementsMessage extends Message {\n  payload: RedditSecBlockConfig[];\n}\n\nexport interface SettingsUpdateMessage extends Message {\n  payload: BlockerSettings;\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","class Logger {\n  private static instance: Logger;\n\n  private constructor() {}\n\n  public static getInstance(): Logger {\n    if (!Logger.instance) {\n      Logger.instance = new Logger();\n    }\n    return Logger.instance;\n  }\n\n  private getTimestamp(): string {\n    const date = new Date();\n    return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n  }\n\n  public info(message: string | object): void {\n    console.info(`[${this.getTimestamp()}] [INFO] ${message}`);\n  }\n\n  public error(message: string | object): void {\n    console.error(`[${this.getTimestamp()}] [ERROR] ${message}`);\n  }\n\n  public debug(message: string | object): void {\n    console.debug(`[${this.getTimestamp()}] [DEBUG] ${message}`);\n  }\n\n  public warn(message: string | object): void {\n    console.warn(`[${this.getTimestamp()}] [WARN] ${message}`);\n  }\n}\n\nconst logger = Logger.getInstance();\n\nexport default logger;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import { BlockerSettings, StorageFunctions, defaultSettings, Blocks, parseMode } from \"../common/settings-config\";\nimport { MessageType } from \"../common/message-types\";\nimport logger from \"../common/logger\";\n\nconst getSettings = async (): Promise<BlockerSettings> => {\n  const storage = await browser.storage.sync.get(\"options\");\n  const settingsFromStore = storage.options;\n\n  // Map the blocks to the correct type\n  const mappedBlocks: Blocks = {\n    all: settingsFromStore.blocks.all,\n    comments: settingsFromStore.blocks.comments,\n    mainFeed: settingsFromStore.blocks.mainFeed,\n    sidebar: settingsFromStore.blocks.sidebar,\n    search: settingsFromStore.blocks.search,\n    userFeed: settingsFromStore.blocks.userFeed,\n  };\n\n  const mappedSettings: BlockerSettings = {\n    enabled: settingsFromStore.enabled,\n    mode: parseMode(settingsFromStore.mode),\n    blacklist: settingsFromStore.blacklist,\n    whitelist: settingsFromStore.whitelist,\n    blocks: mappedBlocks,\n  };\n\n  return mappedSettings;\n};\n\nconst setSettings = async (settings: any) => {\n  await browser.storage.sync.set({ options: settings });\n};\n\nconst resetSettings = async () => {\n  await browser.storage.sync.clear();\n  await browser.storage.sync.set({ options: defaultSettings });\n};\n\nconst initializeSettings = async () => {\n  logger.info(\"Settings initialized\");\n  browser.storage.sync.get(\"options\").then((val) => {\n    if (Object.keys(val).length === 0) {\n      browser.storage.sync.set({ options: defaultSettings });\n    }\n  });\n};\n\nconst sendSettingsResetMessage = async () => {\n  logger.info(\"Sending settings reset message\");\n  const port = browser.runtime.connect({ name: \"settings\" });\n  port.postMessage({ type: MessageType.SETTINGS_UPDATE });\n};\n\nconst FirefoxStorageFunctions: StorageFunctions = {\n  getSettings,\n  setSettings,\n  resetSettings,\n  initializeSettings,\n  sendSettingsResetMessage,\n};\n\nexport default FirefoxStorageFunctions;\n","import { BlockTypes, BlockMode } from \"./settings-config\";\nimport storageFunctions from \"../firefox/storage\"\n\n// Need to somehow change this with build script, but allows for native apis to be abstracted behind a single interface\n\n\nexport default storageFunctions;\n\nexport const setMode = async (mode: BlockMode) => {\n  const settings = await storageFunctions.getSettings();\n  settings.mode = mode;\n  await storageFunctions.setSettings(settings);\n};\n\nexport const pushBlacklist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.blacklist.push(subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const removeBlacklist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.blacklist = settings.blacklist.filter((sub) => sub !== subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const pushWhitelist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.whitelist.push(subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const removeWhitelist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.whitelist = settings.whitelist.filter((sub) => sub !== subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const toggleEnabled = async () => {\n  const settings = await storageFunctions.getSettings();\n  settings.enabled = !settings.enabled;\n  await storageFunctions.setSettings(settings);\n};\n\nexport const toggleOption = async (option: BlockTypes) => {\n  const settings = await storageFunctions.getSettings();\n  switch (option) {\n    case BlockTypes.ALL:\n      settings.blocks.all = !settings.blocks.all;\n      break;\n    case BlockTypes.MAIN_FEED:\n      settings.blocks.mainFeed = !settings.blocks.mainFeed;\n      break;\n    case BlockTypes.USER_FEED:\n      settings.blocks.userFeed = !settings.blocks.userFeed;\n      break;\n    case BlockTypes.COMMENTS:\n      settings.blocks.comments = !settings.blocks.comments;\n      break;\n    case BlockTypes.SEARCH:\n      settings.blocks.search = !settings.blocks.search;\n      break;\n    case BlockTypes.SIDEBAR:\n      settings.blocks.sidebar = !settings.blocks.sidebar;\n      break;\n  }\n\n  await storageFunctions.setSettings(settings);\n};\n\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export interface RedditSecBlockConfig {\n  selector: string; // CSS Selector if applicable\n  show: boolean; // Show or hide the section -> true = show, false = hide, will be changed in the url parser\n  useBlocker: boolean; // Whether to use the full page blocker or not\n  blockMsg: string; // Message to display when the section is blocked\n}\n\nexport const selectors = {\n  mainFeed: \"._1OVBBWLtHoSPfGCRaPzpTf\",\n  sideBar: \"._3Kd8DQpBIbsr5E1JcrMFTY\",\n  comments: \"._2M2wOqmeoPVvcSsJ6Po9\",\n  userFeed: \"._31N0dvxfpsO6Ur5AKx4O5d\",\n  search: \"._3Up38k81YNBWQoW1ovMU88\",\n  all: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  popular: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  subFeed: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  post: \"._2DJXORCrmcNpPTSq0LqL6i\",\n};\n\n// Configuring how all the different sections are to be blocked\n\nconst mainFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._1OVBBWLtHoSPfGCRaPzpTf\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked the main feed\",\n};\n\nconst sideBar: RedditSecBlockConfig = {\n  selector: \"._3Kd8DQpBIbsr5E1JcrMFTY\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked the main feed\",\n};\n\nconst comments: RedditSecBlockConfig = {\n  selector: \"._2M2wOqmeoPVvcSsJ6Po9-V\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst userFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._31N0dvxfpsO6Ur5AKx4O5d\n  show: true,\n  useBlocker: false,\n  blockMsg: \"Access to user profiles has been blocked\",\n};\n\nconst search: RedditSecBlockConfig = {\n  selector: \"._3Up38k81YNBWQoW1ovMU88\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"Search Results have been blocked\",\n};\n\nconst subFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._31N0dvxfpsO6Ur5AKx4O5d\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst post: RedditSecBlockConfig = {\n  selector: \"._2rszc84L136gWQrkwH6IaM\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst popular: RedditSecBlockConfig = {\n  selector: \"\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked access to r/All and r/Popular\",\n};\n\nexport const sections = {\n  mainFeed,\n  sideBar,\n  search,\n  popular,\n  subFeed,\n  userFeed,\n  post,\n  comments,\n};\n","import { RedditSecBlockConfig, sections } from \"./block-section-config\";\nimport { BlockMode, BlockerSettings } from \"./settings-config\";\nimport { isUserProfile } from \"./content-utils\";\n\n// Each of these methods returns an array of BlockSections for a certain page\n\n// Gets classes based on current homepage settings\nconst getHomepageBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  // Loading up default section configs, which will be turned off by default. They will be turned on if the users settings allow it\n  const mainFeedSection: RedditSecBlockConfig = { ...sections.mainFeed };\n  const sideBarSection: RedditSecBlockConfig = { ...sections.sideBar };\n  if (settings.blocks.mainFeed) {\n    // Configuring main feed section\n    mainFeedSection.show = false;\n    mainFeedSection.useBlocker = true;\n\n    // Configuring sidebar section\n    sideBarSection.useBlocker = true;\n  }\n  if (settings.blocks.sidebar) {\n    sideBarSection.show = false;\n  }\n\n  return [mainFeedSection, sideBarSection];\n};\n\nconst getSearchPageBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const searchFeedSection: RedditSecBlockConfig = { ...sections.search };\n  if (settings.blocks.search) {\n    searchFeedSection.show = false;\n    searchFeedSection.useBlocker = true;\n  }\n  return [searchFeedSection];\n};\n\nconst getAllPopularBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const allSection: RedditSecBlockConfig = { ...sections.popular };\n  if (settings.blocks.all) {\n    allSection.show = false;\n    allSection.useBlocker = true;\n  }\n  return [allSection];\n};\n\nconst getSubredditBlocks = (settings: BlockerSettings, subreddit: string): RedditSecBlockConfig[] => {\n  const subFeedSection: RedditSecBlockConfig = { ...sections.subFeed };\n  if (settings.mode === BlockMode.BLACKLIST) {\n    if (settings.blacklist.includes(subreddit.toLowerCase())) {\n      subFeedSection.show = false;\n      subFeedSection.useBlocker = true;\n      subFeedSection.blockMsg = `r/${subreddit} is on your blacklist`;\n    }\n  } else if (settings.mode === BlockMode.WHITELIST) {\n    if (!settings.whitelist.includes(subreddit.toLowerCase())) {\n      subFeedSection.show = false;\n      subFeedSection.useBlocker = true;\n      subFeedSection.blockMsg = `r/${subreddit} is not on your whitelist`;\n    }\n  }\n  return [subFeedSection];\n};\n\nconst getUserProfileBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const userFeedSection: RedditSecBlockConfig = { ...sections.userFeed };\n  if (settings.blocks.userFeed) {\n    userFeedSection.show = false;\n    userFeedSection.useBlocker = true;\n  }\n  return [userFeedSection];\n};\n\nconst getPostBlocks = (settings: BlockerSettings, subreddit: string): RedditSecBlockConfig[] => {\n  const postSettings: RedditSecBlockConfig = { ...sections.post };\n  subreddit = subreddit.toLowerCase();\n\n  if (settings.mode === BlockMode.BLACKLIST) {\n    if (settings.blacklist.includes(subreddit)) {\n      postSettings.show = false;\n    }\n  } else if (settings.mode === BlockMode.WHITELIST) {\n    if (!settings.whitelist.includes(subreddit)) {\n      postSettings.show = false;\n    }\n  }\n  const commentSettings: RedditSecBlockConfig = { ...sections.comments };\n  if (settings.blocks.comments) {\n    commentSettings.show = false;\n  }\n\n  return [postSettings, commentSettings];\n};\n\nconst blockSections = {\n  getHomepageBlocks,\n  getSearchPageBlocks,\n  getAllPopularBlocks,\n  getSubredditBlocks,\n  getUserProfileBlocks,\n  getPostBlocks,\n};\n\nexport default blockSections;\n","import { BlockMode, BlockerSettings } from \"./settings-config\";\nimport { RedditSecBlockConfig, sections } from \"./block-section-config\";\nimport BlockFinder from \"./get-blocks\";\n\nconst REGEXES = {\n  HOMEPAGE: /^https:\\/\\/www.reddit.com\\/(best\\/|hot\\/|new\\/|top\\/.*)*$/,\n  SEARCH_PAGE: /^https:\\/\\/www.reddit.com\\/search\\/\\?q=.*/,\n  ALL_POPULAR: /^https:\\/\\/www.reddit.com\\/r\\/(all|popular)\\/.*$/,\n  USER_PROFILE: /^https:\\/\\/www.reddit.com\\/user\\/([^\\/]*)\\/?(.*)/,\n  SUBREDDIT: /^https:\\/\\/www.reddit.com\\/r\\/([^\\/]+)*\\/$/,\n  POST: /^https:\\/\\/www.reddit.com\\/r\\/(.*)\\/comments\\/.*/,\n};\n\n// Finds out the current page and returns the sections that need to be blocked according to the set settings\nexport const parseUrl = (url: string, settings: BlockerSettings): RedditSecBlockConfig[] => {\n  // What sections of the webpage need blocked?\n  let sections: RedditSecBlockConfig[] = [];\n  if (!settings.enabled) return sections;\n  switch (true) {\n    case REGEXES.HOMEPAGE.test(url):\n      sections.push(...BlockFinder.getHomepageBlocks(settings));\n      break;\n\n    case REGEXES.SEARCH_PAGE.test(url):\n      sections.push(...BlockFinder.getSearchPageBlocks(settings));\n      break;\n\n    case REGEXES.ALL_POPULAR.test(url):\n      sections.push(...BlockFinder.getAllPopularBlocks(settings));\n      break;\n\n    case REGEXES.USER_PROFILE.test(url):\n      sections.push(...BlockFinder.getUserProfileBlocks(settings));\n      break;\n\n    case REGEXES.SUBREDDIT.test(url):\n      let subreddit = url.match(REGEXES.SUBREDDIT)?.[1];\n      sections.push(...BlockFinder.getSubredditBlocks(settings, subreddit as string));\n      break;\n\n    case REGEXES.POST.test(url):\n      subreddit = url.match(REGEXES.POST)?.[1];\n      sections.push(...BlockFinder.getPostBlocks(settings, subreddit as string));\n      break;\n\n    default:\n      break;\n  }\n\n  return sections;\n};\n","import storageFunctions from \"./common/storage-service\";\nimport { parseUrl } from \"./common/url-parser\";\nimport logger from \"./common/logger\";\nimport { MessageType, Message, HideElementsMessage, SettingsUpdateMessage } from \"./common/message-types\";\n\nconst main = async () => {\n  await storageFunctions.initializeSettings();\n  let settings = await storageFunctions.getSettings();\n  logger.info(\"Settings loaded\");\n\n  let ports: browser.runtime.Port[] = [];\n  browser.runtime.onConnect.addListener((port) => {\n    // Handling content scripts\n    if (port.name === \"content\") {\n      // Adding port to list of ports\n      ports.push(port);\n\n      port.onMessage.addListener((msg: any) => {\n        if (msg.type === MessageType.WAKE_UP) logger.info(\"Recieved wake up message\");\n      });\n\n      // Disconnecting port when tab is closed\n      port.onDisconnect.addListener(() => {\n        ports = ports.filter((p) => p.sender?.tab?.id !== port.sender?.tab?.id);\n      });\n    }\n    if (port.name === \"settings\") {\n      // Updating value of settings when settings are updated\n      storageFunctions.getSettings().then((s) => {\n        settings = s;\n        logger.info(\"Updating settings\");\n        let message: SettingsUpdateMessage = { type: MessageType.SETTINGS_UPDATE, payload: settings };\n        // Sending message to content scripts to update settings and adjust the blocker\n        ports.forEach((p) => {\n          p.postMessage(message);\n        });\n        port.disconnect();\n      });\n    }\n  });\n\n  // Checking for url changes on reddit tabs\n  browser.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n    if (tab.url && tab.url.startsWith(\"https://www.reddit.com\")) {\n      // Getting what sections need to be blocked based on current settings and the new tab url\n      const sectionsToBlock = parseUrl(tab.url, settings);\n      let message: Message | HideElementsMessage;\n      if (sectionsToBlock.length > 0)\n        message = { type: MessageType.HIDE_ELEMENTS, payload: sectionsToBlock } as HideElementsMessage;\n      else message = { type: MessageType.HIDE_BLOCKER } as Message;\n\n      // Sending message to appropiate tab\n      ports.find((p) => p.sender?.tab?.id === tabId)?.postMessage(message);\n    }\n  });\n};\n\nmain();\n\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","Op","Object","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","args","arguments","apply","BlockMode","BlockTypes","MessageType","defaultSettings","enabled","mode","BLOCK","whitelist","blacklist","blocks","mainFeed","search","sidebar","userFeed","all","comments","parseMode","int","WHITELIST","BLACKLIST","_defineProperties","target","props","descriptor","Logger","instance","Constructor","protoProps","staticProps","date","Date","getHours","getMinutes","getSeconds","message","console","getTimestamp","debug","warn","getInstance","getSettings","browser","storage","sync","get","settingsFromStore","options","mappedBlocks","mappedSettings","setSettings","settings","set","resetSettings","clear","initializeSettings","logger","val","sendSettingsResetMessage","runtime","connect","postMessage","SETTINGS_UPDATE","_arrayLikeToArray","arr","len","arr2","Array","_toConsumableArray","isArray","from","o","minLen","n","toString","test","_defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","sections","selector","show","useBlocker","blockMsg","getHomepageBlocks","mainFeedSection","sideBarSection","getSearchPageBlocks","searchFeedSection","getAllPopularBlocks","allSection","getSubredditBlocks","subreddit","subFeedSection","includes","toLowerCase","getUserProfileBlocks","userFeedSection","getPostBlocks","postSettings","commentSettings","REGEXES","HOMEPAGE","SEARCH_PAGE","ALL_POPULAR","USER_PROFILE","SUBREDDIT","POST","parseUrl","url","BlockFinder","match","main","storageFunctions","ports","onConnect","addListener","port","onMessage","msg","WAKE_UP","onDisconnect","p","sender","tab","id","s","payload","disconnect","tabs","onUpdated","tabId","changeInfo","startsWith","sectionsToBlock","HIDE_ELEMENTS","HIDE_BLOCKER","find"],"sourceRoot":""}