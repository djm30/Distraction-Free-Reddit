{"version":3,"file":"static/js/content.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","common/content-utils.ts","common/settings-config.ts","common/message-types.ts","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","common/logger.ts","firefox/storage.ts","common/storage-service.ts","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","common/block-section-config.ts","common/get-blocks.ts","common/url-parser.ts","common/block-controller.ts","content.ts"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import logger from \"./logger\";\n\n// Finds out whether the site is running in dark mode or not\nexport const isDarkMode = () => {\n  let darkMode = false;\n  let element = document.querySelector(\"._1VP69d9lk-Wk9zokOaylL\") as HTMLElement;\n  element.style.cssText.split(\" \").forEach((style) => {\n    if (style.startsWith(\"--background:\")) {\n      let bodyColor = style.split(\"#\")[1];\n      darkMode = bodyColor !== \"FFFFFF;\";\n    }\n  });\n  return darkMode;\n};\n\n// Check if the current url is a user profile\nexport const isUserProfile = () => {\n  const selector = \"._2BMnTatQ5gjKGK5OWROgaG\";\n\n  const userProfileElement = document.querySelector(selector);\n\n  const userUrlRegex = /^https:\\/\\/www.reddit.com\\/user\\/([^\\/]*)\\/?(.*)/;\n  const match = userUrlRegex.exec(document.URL);\n\n  if (match && userProfileElement) return userProfileElement.textContent === match[1];\n\n  return false;\n};\n","import logger from \"./logger\";\n\nexport enum BlockMode {\n  BLOCK,\n  WHITELIST,\n  BLACKLIST,\n}\n\nexport interface BlockerSettings {\n  enabled: boolean;\n  mode: BlockMode;\n  whitelist: Array<string>;\n  blacklist: Array<string>;\n  blocks: Blocks;\n}\n\nexport interface Blocks {\n  mainFeed: boolean;\n  search: boolean;\n  sidebar: boolean;\n  userFeed: boolean;\n  all: boolean;\n  comments: boolean;\n}\n\nexport enum BlockTypes {\n  MAIN_FEED,\n  USER_FEED,\n  ALL,\n  COMMENTS,\n  SIDEBAR,\n  SEARCH,\n}\n\nexport interface StorageFunctions {\n  getSettings: () => Promise<BlockerSettings>;\n  setSettings: (settings: BlockerSettings) => Promise<void>;\n  resetSettings: () => Promise<void>;\n  initializeSettings: () => Promise<void>;\n  sendSettingsResetMessage: () => Promise<void> | void;\n}\n\nexport const defaultSettings: BlockerSettings = {\n  enabled: true,\n  mode: BlockMode.BLOCK,\n  whitelist: [],\n  blacklist: [],\n  blocks: {\n    mainFeed: true,\n    search: true,\n    sidebar: true,\n    userFeed: true,\n    all: true,\n    comments: true,\n  },\n};\n\nexport const parseMode = (int: Number): BlockMode => {\n  switch (int) {\n    case 0:\n      return BlockMode.BLOCK;\n    case 1:\n      return BlockMode.WHITELIST;\n    case 2:\n      return BlockMode.BLACKLIST;\n    default:\n      return BlockMode.BLOCK;\n  }\n};\n","import { RedditSecBlockConfig } from \"./block-section-config\";\nimport { BlockerSettings } from \"./settings-config\";\n\nexport const enum MessageType {\n  HIDE_BLOCKER = \"HIDE_BLOCKER\",\n  HIDE_ELEMENTS = \"HIDE_ELEMENTS\",\n  SETTINGS_UPDATE = \"SETTINGS_UPDATE\",\n  WAKE_UP = \"WAKE_UP\",\n}\n\nexport interface Message {\n  type: MessageType;\n}\n\nexport interface HideElementsMessage extends Message {\n  payload: RedditSecBlockConfig[];\n}\n\nexport interface SettingsUpdateMessage extends Message {\n  payload: BlockerSettings;\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","class Logger {\n  private static instance: Logger;\n\n  private constructor() {}\n\n  public static getInstance(): Logger {\n    if (!Logger.instance) {\n      Logger.instance = new Logger();\n    }\n    return Logger.instance;\n  }\n\n  private getTimestamp(): string {\n    const date = new Date();\n    return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n  }\n\n  public info(message: string | object): void {\n    console.info(`[${this.getTimestamp()}] [INFO] ${message}`);\n  }\n\n  public error(message: string | object): void {\n    console.error(`[${this.getTimestamp()}] [ERROR] ${message}`);\n  }\n\n  public debug(message: string | object): void {\n    console.debug(`[${this.getTimestamp()}] [DEBUG] ${message}`);\n  }\n\n  public warn(message: string | object): void {\n    console.warn(`[${this.getTimestamp()}] [WARN] ${message}`);\n  }\n}\n\nconst logger = Logger.getInstance();\n\nexport default logger;\n","import { BlockerSettings, StorageFunctions, defaultSettings, Blocks, parseMode } from \"../common/settings-config\";\nimport { MessageType } from \"../common/message-types\";\nimport logger from \"../common/logger\";\n\nconst getSettings = async (): Promise<BlockerSettings> => {\n  const storage = await browser.storage.sync.get(\"options\");\n  const settingsFromStore = storage.options;\n\n  // Map the blocks to the correct type\n  const mappedBlocks: Blocks = {\n    all: settingsFromStore.blocks.all,\n    comments: settingsFromStore.blocks.comments,\n    mainFeed: settingsFromStore.blocks.mainFeed,\n    sidebar: settingsFromStore.blocks.sidebar,\n    search: settingsFromStore.blocks.search,\n    userFeed: settingsFromStore.blocks.userFeed,\n  };\n\n  const mappedSettings: BlockerSettings = {\n    enabled: settingsFromStore.enabled,\n    mode: parseMode(settingsFromStore.mode),\n    blacklist: settingsFromStore.blacklist,\n    whitelist: settingsFromStore.whitelist,\n    blocks: mappedBlocks,\n  };\n\n  return mappedSettings;\n};\n\nconst setSettings = async (settings: any) => {\n  await browser.storage.sync.set({ options: settings });\n};\n\nconst resetSettings = async () => {\n  await browser.storage.sync.clear();\n  await browser.storage.sync.set({ options: defaultSettings });\n};\n\nconst initializeSettings = async () => {\n  logger.info(\"Settings initialized\");\n  browser.storage.sync.get(\"options\").then((val) => {\n    if (Object.keys(val).length === 0) {\n      browser.storage.sync.set({ options: defaultSettings });\n    }\n  });\n};\n\nconst sendSettingsResetMessage = async () => {\n  logger.info(\"Sending settings reset message\");\n  const port = browser.runtime.connect({ name: \"settings\" });\n  port.postMessage({ type: MessageType.SETTINGS_UPDATE });\n};\n\nconst FirefoxStorageFunctions: StorageFunctions = {\n  getSettings,\n  setSettings,\n  resetSettings,\n  initializeSettings,\n  sendSettingsResetMessage,\n};\n\nexport default FirefoxStorageFunctions;\n","import { BlockTypes, BlockMode } from \"./settings-config\";\nimport storageFunctions from \"../firefox/storage\"\n\n// Need to somehow change this with build script, but allows for native apis to be abstracted behind a single interface\n\n\nexport default storageFunctions;\n\nexport const setMode = async (mode: BlockMode) => {\n  const settings = await storageFunctions.getSettings();\n  settings.mode = mode;\n  await storageFunctions.setSettings(settings);\n};\n\nexport const pushBlacklist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.blacklist.push(subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const removeBlacklist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.blacklist = settings.blacklist.filter((sub) => sub !== subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const pushWhitelist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.whitelist.push(subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const removeWhitelist = async (subreddit: string) => {\n  const settings = await storageFunctions.getSettings();\n  settings.whitelist = settings.whitelist.filter((sub) => sub !== subreddit);\n  await storageFunctions.setSettings(settings);\n};\n\nexport const toggleEnabled = async () => {\n  const settings = await storageFunctions.getSettings();\n  settings.enabled = !settings.enabled;\n  await storageFunctions.setSettings(settings);\n};\n\nexport const toggleOption = async (option: BlockTypes) => {\n  const settings = await storageFunctions.getSettings();\n  switch (option) {\n    case BlockTypes.ALL:\n      settings.blocks.all = !settings.blocks.all;\n      break;\n    case BlockTypes.MAIN_FEED:\n      settings.blocks.mainFeed = !settings.blocks.mainFeed;\n      break;\n    case BlockTypes.USER_FEED:\n      settings.blocks.userFeed = !settings.blocks.userFeed;\n      break;\n    case BlockTypes.COMMENTS:\n      settings.blocks.comments = !settings.blocks.comments;\n      break;\n    case BlockTypes.SEARCH:\n      settings.blocks.search = !settings.blocks.search;\n      break;\n    case BlockTypes.SIDEBAR:\n      settings.blocks.sidebar = !settings.blocks.sidebar;\n      break;\n  }\n\n  await storageFunctions.setSettings(settings);\n};\n\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export interface RedditSecBlockConfig {\n  selector: string; // CSS Selector if applicable\n  show: boolean; // Show or hide the section -> true = show, false = hide, will be changed in the url parser\n  useBlocker: boolean; // Whether to use the full page blocker or not\n  blockMsg: string; // Message to display when the section is blocked\n}\n\nexport const selectors = {\n  mainFeed: \"._1OVBBWLtHoSPfGCRaPzpTf\",\n  sideBar: \"._3Kd8DQpBIbsr5E1JcrMFTY\",\n  comments: \"._2M2wOqmeoPVvcSsJ6Po9\",\n  userFeed: \"._31N0dvxfpsO6Ur5AKx4O5d\",\n  search: \"._3Up38k81YNBWQoW1ovMU88\",\n  all: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  popular: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  subFeed: \"._3ozFtOe6WpJEMUtxDOIvtU\",\n  post: \"._2DJXORCrmcNpPTSq0LqL6i\",\n};\n\n// Configuring how all the different sections are to be blocked\n\nconst mainFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._1OVBBWLtHoSPfGCRaPzpTf\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked the main feed\",\n};\n\nconst sideBar: RedditSecBlockConfig = {\n  selector: \"._3Kd8DQpBIbsr5E1JcrMFTY\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked the main feed\",\n};\n\nconst comments: RedditSecBlockConfig = {\n  selector: \"._2M2wOqmeoPVvcSsJ6Po9-V\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst userFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._31N0dvxfpsO6Ur5AKx4O5d\n  show: true,\n  useBlocker: false,\n  blockMsg: \"Access to user profiles has been blocked\",\n};\n\nconst search: RedditSecBlockConfig = {\n  selector: \"._3Up38k81YNBWQoW1ovMU88\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"Search Results have been blocked\",\n};\n\nconst subFeed: RedditSecBlockConfig = {\n  selector: \"\", // ._31N0dvxfpsO6Ur5AKx4O5d\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst post: RedditSecBlockConfig = {\n  selector: \"._2rszc84L136gWQrkwH6IaM\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"\",\n};\n\nconst popular: RedditSecBlockConfig = {\n  selector: \"\",\n  show: true,\n  useBlocker: false,\n  blockMsg: \"You have blocked access to r/All and r/Popular\",\n};\n\nexport const sections = {\n  mainFeed,\n  sideBar,\n  search,\n  popular,\n  subFeed,\n  userFeed,\n  post,\n  comments,\n};\n","import { RedditSecBlockConfig, sections } from \"./block-section-config\";\nimport { BlockMode, BlockerSettings } from \"./settings-config\";\nimport { isUserProfile } from \"./content-utils\";\n\n// Each of these methods returns an array of BlockSections for a certain page\n\n// Gets classes based on current homepage settings\nconst getHomepageBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  // Loading up default section configs, which will be turned off by default. They will be turned on if the users settings allow it\n  const mainFeedSection: RedditSecBlockConfig = { ...sections.mainFeed };\n  const sideBarSection: RedditSecBlockConfig = { ...sections.sideBar };\n  if (settings.blocks.mainFeed) {\n    // Configuring main feed section\n    mainFeedSection.show = false;\n    mainFeedSection.useBlocker = true;\n\n    // Configuring sidebar section\n    sideBarSection.useBlocker = true;\n  }\n  if (settings.blocks.sidebar) {\n    sideBarSection.show = false;\n  }\n\n  return [mainFeedSection, sideBarSection];\n};\n\nconst getSearchPageBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const searchFeedSection: RedditSecBlockConfig = { ...sections.search };\n  if (settings.blocks.search) {\n    searchFeedSection.show = false;\n    searchFeedSection.useBlocker = true;\n  }\n  return [searchFeedSection];\n};\n\nconst getAllPopularBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const allSection: RedditSecBlockConfig = { ...sections.popular };\n  if (settings.blocks.all) {\n    allSection.show = false;\n    allSection.useBlocker = true;\n  }\n  return [allSection];\n};\n\nconst getSubredditBlocks = (settings: BlockerSettings, subreddit: string): RedditSecBlockConfig[] => {\n  const subFeedSection: RedditSecBlockConfig = { ...sections.subFeed };\n  if (settings.mode === BlockMode.BLACKLIST) {\n    if (settings.blacklist.includes(subreddit.toLowerCase())) {\n      subFeedSection.show = false;\n      subFeedSection.useBlocker = true;\n      subFeedSection.blockMsg = `r/${subreddit} is on your blacklist`;\n    }\n  } else if (settings.mode === BlockMode.WHITELIST) {\n    if (!settings.whitelist.includes(subreddit.toLowerCase())) {\n      subFeedSection.show = false;\n      subFeedSection.useBlocker = true;\n      subFeedSection.blockMsg = `r/${subreddit} is not on your whitelist`;\n    }\n  }\n  return [subFeedSection];\n};\n\nconst getUserProfileBlocks = (settings: BlockerSettings): RedditSecBlockConfig[] => {\n  const userFeedSection: RedditSecBlockConfig = { ...sections.userFeed };\n  if (settings.blocks.userFeed) {\n    userFeedSection.show = false;\n    userFeedSection.useBlocker = true;\n  }\n  return [userFeedSection];\n};\n\nconst getPostBlocks = (settings: BlockerSettings, subreddit: string): RedditSecBlockConfig[] => {\n  const postSettings: RedditSecBlockConfig = { ...sections.post };\n  subreddit = subreddit.toLowerCase();\n\n  if (settings.mode === BlockMode.BLACKLIST) {\n    if (settings.blacklist.includes(subreddit)) {\n      postSettings.show = false;\n    }\n  } else if (settings.mode === BlockMode.WHITELIST) {\n    if (!settings.whitelist.includes(subreddit)) {\n      postSettings.show = false;\n    }\n  }\n  const commentSettings: RedditSecBlockConfig = { ...sections.comments };\n  if (settings.blocks.comments) {\n    commentSettings.show = false;\n  }\n\n  return [postSettings, commentSettings];\n};\n\nconst blockSections = {\n  getHomepageBlocks,\n  getSearchPageBlocks,\n  getAllPopularBlocks,\n  getSubredditBlocks,\n  getUserProfileBlocks,\n  getPostBlocks,\n};\n\nexport default blockSections;\n","import { BlockMode, BlockerSettings } from \"./settings-config\";\nimport { RedditSecBlockConfig, sections } from \"./block-section-config\";\nimport BlockFinder from \"./get-blocks\";\n\nconst REGEXES = {\n  HOMEPAGE: /^https:\\/\\/www.reddit.com\\/(best\\/|hot\\/|new\\/|top\\/.*)*$/,\n  SEARCH_PAGE: /^https:\\/\\/www.reddit.com\\/search\\/\\?q=.*/,\n  ALL_POPULAR: /^https:\\/\\/www.reddit.com\\/r\\/(all|popular)\\/.*$/,\n  USER_PROFILE: /^https:\\/\\/www.reddit.com\\/user\\/([^\\/]*)\\/?(.*)/,\n  SUBREDDIT: /^https:\\/\\/www.reddit.com\\/r\\/([^\\/]+)*\\/$/,\n  POST: /^https:\\/\\/www.reddit.com\\/r\\/(.*)\\/comments\\/.*/,\n};\n\n// Finds out the current page and returns the sections that need to be blocked according to the set settings\nexport const parseUrl = (url: string, settings: BlockerSettings): RedditSecBlockConfig[] => {\n  // What sections of the webpage need blocked?\n  let sections: RedditSecBlockConfig[] = [];\n  if (!settings.enabled) return sections;\n  switch (true) {\n    case REGEXES.HOMEPAGE.test(url):\n      sections.push(...BlockFinder.getHomepageBlocks(settings));\n      break;\n\n    case REGEXES.SEARCH_PAGE.test(url):\n      sections.push(...BlockFinder.getSearchPageBlocks(settings));\n      break;\n\n    case REGEXES.ALL_POPULAR.test(url):\n      sections.push(...BlockFinder.getAllPopularBlocks(settings));\n      break;\n\n    case REGEXES.USER_PROFILE.test(url):\n      sections.push(...BlockFinder.getUserProfileBlocks(settings));\n      break;\n\n    case REGEXES.SUBREDDIT.test(url):\n      let subreddit = url.match(REGEXES.SUBREDDIT)?.[1];\n      sections.push(...BlockFinder.getSubredditBlocks(settings, subreddit as string));\n      break;\n\n    case REGEXES.POST.test(url):\n      subreddit = url.match(REGEXES.POST)?.[1];\n      sections.push(...BlockFinder.getPostBlocks(settings, subreddit as string));\n      break;\n\n    default:\n      break;\n  }\n\n  return sections;\n};\n","import { RedditSecBlockConfig } from \"./block-section-config\";\nimport { isDarkMode, isUserProfile } from \"./content-utils\";\nimport storageFunctions from \"./storage-service\";\nimport { BlockerSettings } from \"./settings-config\";\nimport { parseUrl } from \"./url-parser\";\nimport logger from \"./logger\";\n\nexport default class BlockController {\n  settings!: BlockerSettings;\n  blocker!: HTMLDivElement;\n  parent!: HTMLDivElement;\n\n  constructor(url: string) {\n    storageFunctions.getSettings().then((settings) => {\n      this.settings = settings;\n\n      this.initialiseBlocker();\n      this.placeBlockerOnPage();\n      this.placeBlocksUrl(url);\n    });\n  }\n\n  public initialiseBlocker(): void {\n    const darkModeOn = isDarkMode();\n    const fontColor = darkModeOn ? \"white\" : \"black\";\n    const bgColor = darkModeOn ? \"#030303\" : \"#DAE0E6\";\n\n    // Creating blocker element\n    const blockerStyles = `position: fixed; top: 48px;\n                        width: 100%; height: 100vh; z-index: 79;\n                        background: ${bgColor}; text-align: center;\n                        font-size: 20px; color: ${fontColor}; padding-top: 40px;`;\n    const blockerElement = document.createElement(\"div\");\n    blockerElement.id = \"blocker\";\n    blockerElement.style.cssText = blockerStyles;\n\n    // We are going to hide the blocker element by default, it will then be hidden when needed\n    if (isUserProfile()) blockerElement.style.display = \"none\";\n    blockerElement.innerText = \"Distraction Free Reddit is loading...\";\n\n    const parent = document.querySelector(\"header\")?.parentElement as HTMLDivElement;\n\n    this.blocker = blockerElement;\n    this.parent = parent;\n  }\n\n  public placeBlockerOnPage(): void {\n    let blockerPlaceRetryInterval: ReturnType<typeof setInterval>;\n    if (document.readyState !== \"complete\") {\n      blockerPlaceRetryInterval = setInterval(() => {\n        // Check if blocker element has already been appended\n        if (this.parent.contains(this.blocker)) return;\n        logger.debug(\"Retrying to place blocker on page\");\n        this.parent.appendChild(this.blocker);\n      }, 100);\n    }\n\n    window.addEventListener(\"load\", () => {\n      setTimeout(() => {\n        clearInterval(blockerPlaceRetryInterval);\n      }, 1000);\n      logger.info(\"Distraction Free Reddit Loaded\");\n      if (!this.parent.contains(this.blocker)) this.parent.appendChild(this.blocker);\n    });\n  }\n\n  public setSettings(settings: BlockerSettings): void {\n    this.settings = settings;\n  }\n\n  public placeBlocksUrl(url: string): void {\n    // I dont like having to import this function here and also the background script\n    // Maybe I should send the url in a message in a background script and then parse it there\n    // But it may take too long and delay the blocker from being placed on the page so probably better for now\n    const sections = parseUrl(url, this.settings);\n    this.hideElements(sections);\n  }\n\n  public hideElements(sectionsToBlock: RedditSecBlockConfig[]): void {\n    if (isUserProfile()) {\n      this.hideBlockerElement();\n      return;\n    }\n    let useFullPageBlocker = false;\n    let blockMessage = \"\";\n    sectionsToBlock.forEach((section) => {\n      // Need to ensure that if one section uses the full page blocker, it wont be overwriiten\n      // Also need to ensure that if one section is to be shown, and its current display is set to none, that it should be removed\n      // And also need to ensure that if a section is not to be shown, and also doesnt use the blocker, then its display will be set to none\n      if (section.useBlocker) {\n        useFullPageBlocker = true;\n        blockMessage = section.blockMsg;\n      }\n\n      section.show ? this.showElement(section) : this.hideElement(section);\n    });\n\n    useFullPageBlocker ? this.showBlockerElement(blockMessage) : this.hideBlockerElement();\n  }\n\n  private hideElement(section: RedditSecBlockConfig) {\n    if (!section.selector) return;\n    try {\n      const element = document.querySelector(section.selector) as HTMLDivElement | null;\n      if (!element) throw new Error(\"No element found for corresponding selector\");\n      // Hiding element by setting display to none\n      element.style.display = \"none\";\n    } catch (e) {\n      logger.info(`No element found for corresponding selector: ${section.selector}`);\n    }\n  }\n\n  private showElement(section: RedditSecBlockConfig) {\n    if (!section.selector) return;\n    try {\n      const element = document.querySelector(section.selector) as HTMLDivElement | null;\n      if (!element) throw new Error(\"No element found for corresponding selector\");\n\n      if (element.style.display === \"none\") element.style.removeProperty(\"display\");\n    } catch (e) {\n      logger.info(`No element found for corresponding selector: ${section.selector}`);\n    }\n  }\n\n  public hideBlockerElement(): void {\n    this.blocker.style.display = \"none\";\n  }\n\n  private showBlockerElement(message: string): void {\n    this.blocker.style.removeProperty(\"display\");\n    this.blocker.innerText = message;\n  }\n}\n","import BlockController from \"./common/block-controller\";\nimport { RedditSecBlockConfig } from \"./common/block-section-config\";\nimport logger from \"./common/logger\";\nimport { MessageType, Message, HideElementsMessage, SettingsUpdateMessage } from \"./common/message-types\";\nimport { BlockerSettings } from \"./common/settings-config\";\n\nconst main = () => {\n  const blockController = new BlockController(document.URL);\n\n  const port = browser.runtime.connect({ name: \"content\" });\n\n  port.onMessage.addListener((msg: any) => {\n    if (!msg.type) return;\n    const message: Message = msg;\n    if (message.type === MessageType.HIDE_ELEMENTS)\n      blockController.hideElements((message as HideElementsMessage).payload);\n    else if (message.type === MessageType.HIDE_BLOCKER) blockController.hideBlockerElement();\n    else if (message.type === MessageType.SETTINGS_UPDATE) {\n      blockController.setSettings((message as SettingsUpdateMessage).payload);\n      blockController.placeBlocksUrl(document.URL);\n    }\n  });\n\n  // Keeping event page active\n  setInterval(() => {\n    port.postMessage({ type: MessageType.WAKE_UP });\n  }, 10000);\n\n  logger.info(\"Content script loaded\");\n};\n\nmain();\n\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","BlockMode","BlockTypes","isUserProfile","userProfileElement","document","querySelector","match","exec","URL","textContent","MessageType","defaultSettings","enabled","mode","BLOCK","whitelist","blacklist","blocks","mainFeed","search","sidebar","userFeed","all","comments","parseMode","int","WHITELIST","BLACKLIST","_typeof","obj","Symbol","iterator","constructor","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","value","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","args","arguments","apply","Logger","date","Date","getHours","getMinutes","getSeconds","message","console","getTimestamp","debug","warn","getInstance","getSettings","browser","storage","sync","get","settingsFromStore","options","mappedBlocks","mappedSettings","setSettings","settings","set","resetSettings","clear","initializeSettings","logger","val","sendSettingsResetMessage","runtime","connect","postMessage","SETTINGS_UPDATE","_arrayLikeToArray","arr","len","arr2","Array","_toConsumableArray","isArray","from","o","minLen","n","toString","test","_defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","sections","selector","show","useBlocker","blockMsg","getHomepageBlocks","mainFeedSection","sideBarSection","getSearchPageBlocks","searchFeedSection","getAllPopularBlocks","allSection","getSubredditBlocks","subreddit","subFeedSection","includes","toLowerCase","getUserProfileBlocks","userFeedSection","getPostBlocks","postSettings","commentSettings","REGEXES","HOMEPAGE","SEARCH_PAGE","ALL_POPULAR","USER_PROFILE","SUBREDDIT","POST","BlockController","url","blocker","parent","storageFunctions","initialiseBlocker","placeBlockerOnPage","placeBlocksUrl","darkModeOn","darkMode","style","cssText","split","startsWith","bodyColor","isDarkMode","fontColor","blockerStyles","blockerElement","createElement","id","display","innerText","parentElement","blockerPlaceRetryInterval","readyState","setInterval","contains","appendChild","window","addEventListener","setTimeout","clearInterval","BlockFinder","parseUrl","hideElements","sectionsToBlock","hideBlockerElement","useFullPageBlocker","blockMessage","section","showElement","hideElement","showBlockerElement","element","e","removeProperty","blockController","port","onMessage","addListener","msg","HIDE_ELEMENTS","payload","HIDE_BLOCKER","WAKE_UP","main"],"sourceRoot":""}